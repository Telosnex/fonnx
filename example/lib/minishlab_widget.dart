import 'dart:io';

import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:fonnx/models/minishLab/minish_lab.dart';
import 'package:fonnx_example/padding.dart';
import 'dart:async';
import 'package:path_provider/path_provider.dart' as path_provider;
import 'package:path/path.dart' as path;

class MinishLabWidget extends StatefulWidget {
  const MinishLabWidget({super.key});

  @override
  State<MinishLabWidget> createState() => _MinishLabWidgetState();
}

class _MinishLabWidgetState extends State<MinishLabWidget> {
  bool? _verifyPassed;
  String? _speedTestResult;

  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        heightPadding,
        Text(
          'Minish Labs - Potion 32M',
          style: Theme.of(context).textTheme.headlineLarge,
        ),
        const Text(
            '102 MB model, runs ~30x as fast as MiniLM-L6-v2 with ~the same performance.'),
        heightPadding,
        Row(
          mainAxisAlignment: MainAxisAlignment.start,
          children: [
            ElevatedButton(
              onPressed: _runMinishPotion32MVerificationTest,
              child: const Text('Test Correctness'),
            ),
            widthPadding,
            if (_verifyPassed == true)
              const Icon(
                Icons.check,
                color: Colors.green,
              ),
            if (_verifyPassed == false)
              const Icon(
                Icons.close,
                color: Colors.red,
              ),
          ],
        ),
        heightPadding,
        Row(
          mainAxisAlignment: MainAxisAlignment.start,
          children: [
            ElevatedButton(
              onPressed: _runMinishPotion32MSpeedTest,
              child: const Text('Test Speed'),
            ),
            widthPadding,
            if (_speedTestResult != null) Text(_speedTestResult!),
          ],
        ),
      ],
    );
  }

  void _runMinishPotion32MVerificationTest() async {
    final modelPath = await getModelPath('potion32m.onnx');
    final model = MinishLab.load(modelPath);
    final result = await model.getEmbeddingAsVector(
        MinishLab.potion32mTokenizer.tokenize('').first.tokens);
    final embedding = result;
    final dartArrayAsString = StringBuffer();
    dartArrayAsString.write('[');
    for (var i = 0; i < embedding.length; i++) {
      dartArrayAsString.write('${embedding[i]}, ');
    }
    dartArrayAsString.write(']');
    debugPrint('Dart array: $dartArrayAsString');
    final isNotMatch = embedding.indexed.any((outer) {
      final doesNot = outer.$2 != potion32mExpectedForEmptyString[outer.$1];
      // Use 4 significant figures.
      // Slight mismatch between iOS and macOS. For example:
      // "0.36081504821777344 but got 0.3608149588108063"
      final doesNotAt5 = doesNot &&
          outer.$2.toStringAsFixed(4) !=
              potion32mExpectedForEmptyString[outer.$1].toStringAsFixed(4);
      if (doesNotAt5) {
        debugPrint('Expected ${potion32mExpectedForEmptyString[outer.$1]} '
            'but got ${outer.$2} at index ${outer.$1}');
      }
      return doesNotAt5;
    });
    setState(() {
      _verifyPassed = !isNotMatch;
    });
  }

  void _runMinishPotion32MSpeedTest() async {
    final string = await rootBundle.loadString('assets/text_sample.txt');
    final textAndTokens = MinishLab.potion32mTokenizer.tokenize(string);
    final path = await getModelPath('potion32m.onnx');
    final model = MinishLab.load(path);
    debugPrint('Loaded model');
    // Warm up. This is not necessary, but it's nice to do. Only the first call
    // to a model is slow.
    for (var i = 0; i < 5; i++) {
      await model.getEmbeddingAsVector(
        textAndTokens[i % textAndTokens.length].tokens,
      );
    }
    debugPrint('Warmed up');

    final stopwatch = Stopwatch()..start();
    var completed = 0;
    while (completed < 1000) {
      await model.getEmbeddingAsVector(
          textAndTokens[completed % textAndTokens.length].tokens);
      completed++;
    }
    stopwatch.stop();
    final elapsed = stopwatch.elapsedMilliseconds;
    final speed = (elapsed / completed.toDouble()).round();
    debugPrint('done');
    setState(() {
      final numberPerSecond = (1000 / (elapsed / completed)).round();
      _speedTestResult = '$speed ms for 200 words ($numberPerSecond / sec)';
    });
  }
}

Future<String> getModelPath(String modelFilenameWithExtension) async {
  if (kIsWeb) {
    return 'assets/models/minishLab/$modelFilenameWithExtension';
  }
  final assetCacheDirectory =
      await path_provider.getApplicationSupportDirectory();
  final modelPath =
      path.join(assetCacheDirectory.path, modelFilenameWithExtension);

  File file = File(modelPath);
  bool fileExists = await file.exists();
  final fileLength = fileExists ? await file.length() : 0;

  // Do not use path package / path.join for paths.
  // After testing on Windows, it appears that asset paths are _always_ Unix style, i.e.
  // use /, but path.join uses \ on Windows.
  final assetPath =
      'assets/models/minishLab/${path.basename(modelFilenameWithExtension)}';
  final assetByteData = await rootBundle.load(assetPath);
  final assetLength = assetByteData.lengthInBytes;
  final fileSameSize = fileExists && fileLength == assetLength;
  if (!fileExists || !fileSameSize) {
    debugPrint(
        'Copying model to $modelPath. Why? Either the file does not exist (${!fileExists}), '
        'or it does exist but is not the same size as the one in the assets '
        'directory. (${!fileSameSize})');

    List<int> bytes = assetByteData.buffer.asUint8List(
      assetByteData.offsetInBytes,
      assetByteData.lengthInBytes,
    );
    await file.writeAsBytes(bytes, flush: true);
  }

  return modelPath;
}

const potion32mExpectedForEmptyString = [
  0.04951561242341995,
  -0.02996228076517582,
  -0.048810478299856186,
  0.013093845918774605,
  -0.067625030875206,
  -0.01745414361357689,
  0.09169430285692215,
  0.08000083267688751,
  -0.08340201526880264,
  -0.004773472901433706,
  0.031403400003910065,
  -0.1009458675980568,
  0.02400406077504158,
  -0.03803105279803276,
  0.005806448869407177,
  -0.08373159915208817,
  0.11959666013717651,
  0.10097571462392807,
  -0.003732378361746669,
  -0.028827130794525146,
  0.09488318115472794,
  -0.015168234705924988,
  -0.038803134113550186,
  0.006557849235832691,
  0.08413714915513992,
  0.016151852905750275,
  0.04679131507873535,
  0.07228942215442657,
  -0.15753649175167084,
  0.09393206238746643,
  0.041400205343961716,
  0.03142610937356949,
  -0.04368205741047859,
  -0.000008414217518293299,
  0.0003101229085586965,
  0.058918219059705734,
  0.03712477535009384,
  0.031693149358034134,
  -0.0307181216776371,
  -0.03460231423377991,
  -0.014660689048469067,
  -0.02301652729511261,
  -0.0603521354496479,
  0.08085934072732925,
  0.10284556448459625,
  0.053139351308345795,
  -0.05858151987195015,
  0.12305065244436264,
  0.055568963289260864,
  -0.09478767216205597,
  -0.019628021866083145,
  -0.0484931617975235,
  0.017824100330471992,
  0.01625235378742218,
  -0.13275761902332306,
  -0.05804773047566414,
  0.043731894344091415,
  -0.07123828679323196,
  0.0894056037068367,
  -0.05026174709200859,
  -0.12190617620944977,
  0.022514531388878822,
  0.04254242405295372,
  -0.08704333007335663,
  0.02323096990585327,
  -0.010386725887656212,
  0.0527196042239666,
  0.1409796178340912,
  -0.0028068246319890022,
  -0.058913860470056534,
  0.07302071154117584,
  -0.05657532438635826,
  0.024223489686846733,
  0.029956497251987457,
  -0.055159248411655426,
  0.06702974438667297,
  0.05373704060912132,
  -0.029096821323037148,
  -0.0059209964238107204,
  -0.13123489916324615,
  -0.01851881854236126,
  -0.06846398860216141,
  0.0711112916469574,
  0.01943265087902546,
  0.06781286746263504,
  0.003875542199239135,
  -0.03157826513051987,
  0.026142941787838936,
  0.12277159839868546,
  -0.10638918727636337,
  -0.009619884192943573,
  0.017053207382559776,
  0.007349641527980566,
  -0.025909435003995895,
  0.005752439144998789,
  -0.06043882668018341,
  0.09300060570240021,
  0.11109805852174759,
  -0.06113981828093529,
  0.08322811126708984,
  0.052374467253685,
  -0.06742396205663681,
  -0.014677195809781551,
  -0.04876631125807762,
  0.04717981442809105,
  -0.028314776718616486,
  -0.09883076697587967,
  0.04337386414408684,
  -0.0010095717152580619,
  -0.09676721692085266,
  0.029156392440199852,
  0.02213103324174881,
  0.030178504064679146,
  0.03051629848778248,
  -0.09066718816757202,
  -0.008266805671155453,
  0.0382450670003891,
  -0.061397530138492584,
  0.026405759155750275,
  0.11925620585680008,
  -0.06017598509788513,
  -0.02862490899860859,
  -0.042830970138311386,
  0.03476126864552498,
  0.03692282363772392,
  0.0787922590970993,
  0.05886223539710045,
  -0.046810250729322433,
  0.0052027045749127865,
  -0.07736586779356003,
  0.09180466085672379,
  0.029948050156235695,
  -0.05521972104907036,
  0.04494529590010643,
  -0.05248712748289108,
  -0.038008373230695724,
  0.038305725902318954,
  0.11202620714902878,
  -0.07742773741483688,
  0.050796497613191605,
  -0.015874145552515984,
  -0.06444910913705826,
  0.026526223868131638,
  0.04671267420053482,
  0.04105277359485626,
  0.005641240160912275,
  -0.04429098591208458,
  0.03510831668972969,
  0.08480994403362274,
  0.019709590822458267,
  0.01634908840060234,
  -0.012624101713299751,
  0.051040902733802795,
  0.05021928995847702,
  -0.014349082484841347,
  -0.008460761979222298,
  0.019410554319620132,
  0.01857544295489788,
  0.11443330347537994,
  -0.03914925083518028,
  0.021093575283885002,
  0.00488100154325366,
  0.0015501576708629727,
  0.04328306019306183,
  0.0007179511594586074,
  0.06473284214735031,
  -0.026046067476272583,
  -0.005421625915914774,
  -0.020564286038279533,
  -0.029621552675962448,
  -0.06343518197536469,
  0.018848003819584846,
  -0.03800545260310173,
  -0.06395940482616425,
  -0.0335579477250576,
  -0.04612497612833977,
  0.0026052508037537336,
  0.03066258504986763,
  0.007383290678262711,
  -0.05982860550284386,
  0.012971521355211735,
  -0.0015528331277891994,
  -0.0005231101531535387,
  0.012573654763400555,
  -0.09374314546585083,
  0.09009404480457306,
  0.10577373951673508,
  0.022988595068454742,
  -0.08202675729990005,
  0.027420952916145325,
  -0.03936576843261719,
  -0.03612007200717926,
  0.039245009422302246,
  0.0028011552058160305,
  -0.0486774779856205,
  -0.016417546197772026,
  0.06754277646541595,
  0.06465189903974533,
  -0.007542941719293594,
  0.007914338260889053,
  0.02969510480761528,
  -0.10285116732120514,
  -0.07499617338180542,
  0.030872207134962082,
  -0.01506605464965105,
  -0.0029380731284618378,
  0.005573292262852192,
  0.024606693536043167,
  -0.029876267537474632,
  0.0019262293353676796,
  -0.009477425366640091,
  0.06677386164665222,
  0.0709354430437088,
  -0.0448882095515728,
  0.027382144704461098,
  0.01797105185687542,
  -0.027616316452622414,
  -0.03609232231974602,
  0.042584292590618134,
  -0.006167281419038773,
  -0.011342654936015606,
  0.01602455973625183,
  0.014008919708430767,
  -0.016317447647452354,
  -0.03420356288552284,
  0.013840959407389164,
  0.05538264662027359,
  -0.0032632506918162107,
  -0.01658470183610916,
  0.0478164404630661,
  0.012034119106829166,
  0.0064889355562627316,
  -0.08271048218011856,
  -0.023818382993340492,
  -0.02756652981042862,
  0.038012661039829254,
  -0.11050014197826385,
  0.0026946370489895344,
  -0.06243792548775673,
  0.034481436014175415,
  -0.028001844882965088,
  -0.07758507132530212,
  -0.06989284604787827,
  -0.0038182479329407215,
  -0.0013055236777290702,
  -0.050852853804826736,
  -0.0008706076769158244,
  0.020447585731744766,
  -0.011485298164188862,
  -0.011492867022752762,
  0.009082130156457424,
  -0.10627501457929611,
  0.03614891320466995,
  0.02436981350183487,
  -0.013332700356841087,
  0.001406000112183392,
  -0.021227562800049782,
  -0.025069065392017365,
  -0.000502613082062453,
  -0.059007659554481506,
  -0.019870243966579437,
  -0.02047049254179001,
  0.01158146932721138,
  0.04683415964245796,
  -0.004047346767038107,
  0.009820646606385708,
  -0.041318077594041824,
  0.002041891682893038,
  -0.047210514545440674,
  0.0555487796664238,
  0.023797236382961273,
  0.007099399343132973,
  -0.04140477254986763,
  -0.05388825759291649,
  -0.027356542646884918,
  0.047867342829704285,
  -0.02561769261956215,
  -0.048331353813409805,
  -0.011982237920165062,
  0.012192577123641968,
  -0.014665843918919563,
  -0.06881338357925415,
  -0.014144604094326496,
  -0.02298438362777233,
  -0.034829966723918915,
  -0.010193484835326672,
  -0.02491437830030918,
  -0.028163373470306396,
  -0.016526905819773674,
  0.005365926306694746,
  -0.006467604078352451,
  0.002917472505941987,
  0.0065795062109827995,
  0.0531085766851902,
  -0.03349060192704201,
  0.006535045336931944,
  -0.00817379355430603,
  -0.025324683636426926,
  -0.0030604267958551645,
  -0.06043524667620659,
  0.08390218019485474,
  0.039007823914289474,
  -0.07291184365749359,
  0.03419920802116394,
  -0.006219536531716585,
  -0.002066545421257615,
  0.04949065297842026,
  0.055017296224832535,
  0.06925352662801743,
  -0.005567474290728569,
  -0.038005899637937546,
  0.019534306600689888,
  0.012665551155805588,
  0.00938438717275858,
  -0.025627844035625458,
  0.027495309710502625,
  0.06178971379995346,
  -0.009097331203520298,
  0.02884920872747898,
  -0.030430255457758904,
  -0.055375490337610245,
  -0.06798595935106277,
  0.011349879205226898,
  0.007727885153144598,
  -0.041362181305885315,
  0.0327199324965477,
  -0.022226782515645027,
  0.01115212868899107,
  0.05923221632838249,
  0.03315097466111183,
  0.04352125898003578,
  -0.01188609842211008,
  -0.02979121543467045,
  -0.0014470290625467896,
  0.002172376960515976,
  -0.004149888642132282,
  0.03523338958621025,
  0.01168446708470583,
  0.03346925228834152,
  -0.027362681925296783,
  -0.004502643831074238,
  0.02686641737818718,
  0.025651367381215096,
  -0.022788723930716515,
  0.0028930511325597763,
  0.009491747245192528,
  -0.012912165373563766,
  0.02832937426865101,
  -0.01385160069912672,
  0.02902468480169773,
  0.029765509068965912,
  -0.04889792576432228,
  0.006247066892683506,
  0.03455796465277672,
  -0.011879674158990383,
  0.03363274410367012,
  -0.006122850812971592,
  0.007733318023383617,
  -0.018290940672159195,
  0.027929354459047318,
  0.044798899441957474,
  0.03354063630104065,
  -0.03579321131110191,
  0.025990668684244156,
  0.033396292477846146,
  0.04753196984529495,
  -0.01343549881130457,
  0.021584445610642433,
  0.038192372769117355,
  -0.011296967044472694,
  -0.005407623015344143,
  0.01328347995877266,
  0.004299626220017672,
  0.05271178483963013,
  0.03941339626908302,
  -0.009493885561823845,
  0.003641589544713497,
  0.008529122918844223,
  -0.012976346537470818,
  -0.009852699004113674,
  0.03532837703824043,
  0.06401067972183228,
  -0.032499365508556366,
  0.006730668246746063,
  0.03518989309668541,
  0.025006674230098724,
  -0.011797240003943443,
  -0.0028251372277736664,
  -0.021919578313827515,
  -0.013023929670453072,
  -0.009516420774161816,
  0.00475504482164979,
  0.03683711215853691,
  0.01273483969271183,
  0.08107917010784149,
  0.02425132319331169,
  0.01874963566660881,
  0.00857716053724289,
  0.00993963610380888,
  0.042959652841091156,
  0.023615097627043724,
  -0.001023805350996554,
  -0.019625607877969742,
  0.032820768654346466,
  0.015010103583335876,
  -0.021881140768527985,
  -0.003975681960582733,
  0.0029114261269569397,
  -0.01158386655151844,
  -0.02577665075659752,
  -0.0402115099132061,
  0.008656671270728111,
  -0.027610082179307938,
  0.039284102618694305,
  -0.015942033380270004,
  0.04237942770123482,
  -0.05085032433271408,
  -0.015110745094716549,
  0.05436694249510765,
  0.004783234093338251,
  0.0219799242913723,
  -0.00035600984119810164,
  0.01346541102975607,
  -0.016288431361317635,
  0.0037511149421334267,
  -0.00903964601457119,
  0.021661197766661644,
  0.028346596285700798,
  -0.038585465401411057,
  0.00305675296112895,
  -0.018078012391924858,
  -0.01687658205628395,
  -0.003787106368690729,
  -0.028553346171975136,
  0.028653359040617943,
  0.006729298736900091,
  0.0019996173214167356,
  -0.018524229526519775,
  -0.05373678356409073,
  0.008016745559871197,
  -0.008245689794421196,
  -0.049709808081388474,
  0.04456377401947975,
  0.02752368524670601,
  -0.0007835140568204224,
  -0.03342748433351517,
  -0.032482028007507324,
  -0.01010957919061184,
  -0.04819631949067116,
  0.026486482471227646,
  0.01343668531626463,
  0.04641032591462135,
  0.00814575795084238,
  0.0028209195006638765,
  0.03482503443956375,
  -0.01230147946625948,
  0.012963728047907352,
  0.026515234261751175,
  -0.001633749925531447,
  -0.03726808726787567,
  0.01659555546939373,
  -0.0030191477853804827,
  -0.0336918905377388,
  -0.05198953300714493,
  -0.012006803415715694,
  -0.01226653903722763,
  0.007877649739384651,
  -0.02351093851029873,
  0.04238519445061684,
  -0.018603285774588585,
  0.07453100383281708,
  0.02033529244363308,
  0.0050473385490477085,
  0.05035852640867233,
  -0.0034673113841563463,
  0.02115631103515625,
  0.021242154762148857,
  -0.0071718585677444935,
  -0.03485509008169174,
  -0.006742899771779776,
  -0.003841869765892625,
  0.003246542066335678,
  -0.021879544481635094,
  0.01664278469979763,
  0.02916017919778824,
  0.025181325152516365,
  -0.006121249403804541,
  -0.0017895702039822936,
  -0.03755907341837883,
  -0.03937581554055214,
  0.04148123785853386,
  0.03792811557650566,
  -0.04972686618566513,
  -0.03267846629023552,
  -0.04773607850074768,
  0.011612276546657085,
  -0.01770557090640068,
  0.01320815272629261,
  -0.028987284749746323,
  0.04580800235271454,
  0.027993343770503998,
  -0.01652679219841957,
  -0.007704590912908316,
  -0.015542494133114815,
  -0.0016362390015274286,
  0.008918767794966698,
  -0.051992740482091904,
  0.01551690511405468,
  0.02713696099817753,
  -0.012552343308925629,
  -0.018373871222138405,
  -0.0291006937623024,
];

const potion32mForApplesauce = [
  -0.013350279070436954,
  -0.0415048822760582,
  0.013629181310534477,
  0.024633344262838364,
  -0.08138103038072586,
  -0.05169537663459778,
  -0.0439014658331871,
  -0.04127521812915802,
  -0.04345084726810455,
  -0.010681896470487118,
  0.05870218947529793,
  -0.063325896859169,
  -0.0012620314955711365,
  -0.04158160835504532,
  0.010061001405119896,
  -0.006762837991118431,
  0.06710444390773773,
  0.013710110448300838,
  -0.04808466136455536,
  0.009241284802556038,
  0.032950881868600845,
  0.0071733188815414906,
  0.0011412277817726135,
  0.016808534041047096,
  -0.04683462157845497,
  -0.054427552968263626,
  -0.0025317356921732426,
  -0.0906859040260315,
  -0.10517242550849915,
  0.030032280832529068,
  -0.021217508241534233,
  0.0757930800318718,
  -0.020999500527977943,
  -0.02152896672487259,
  -0.054699309170246124,
  0.08120642602443695,
  -0.0387471541762352,
  -0.056308165192604065,
  0.02449849806725979,
  0.034868430346250534,
  -0.01119906734675169,
  0.004898380488157272,
  -0.004079069942235947,
  0.08988223224878311,
  0.00008430797606706619,
  -0.033585324883461,
  -0.018316762521862984,
  0.060921560972929,
  0.02814250998198986,
  0.09621385484933853,
  -0.04825422167778015,
  -0.03851524367928505,
  0.05833839997649193,
  0.07066302746534348,
  -0.09641645848751068,
  -0.04717092588543892,
  -0.004437822848558426,
  -0.01581134833395481,
  -0.04537460580468178,
  -0.0402582511305809,
  -0.12300003319978714,
  0.01049695536494255,
  0.052945442497730255,
  -0.00442354753613472,
  -0.012401477433741093,
  -0.00435518566519022,
  0.0845462754368782,
  0.022649243474006653,
  0.013711471110582352,
  0.013974212110042572,
  -0.06284232437610626,
  -0.06885767728090286,
  -0.03220813348889351,
  0.07469634711742401,
  0.0005508587928488851,
  0.04951096326112747,
  0.07843808084726334,
  -0.015424641780555248,
  0.03292129933834076,
  -0.08219477534294128,
  -0.03013334795832634,
  -0.1115988940000534,
  0.039158906787633896,
  0.021110406145453453,
  0.026928821578621864,
  -0.023098023608326912,
  -0.015157721936702728,
  0.0370437316596508,
  0.0422617569565773,
  -0.01808357797563076,
  -0.0655672699213028,
  -0.03052554465830326,
  0.03782159090042114,
  -0.047349713742733,
  0.07395747303962708,
  -0.04310915991663933,
  0.0730467438697815,
  0.11592520773410797,
  -0.012747897766530514,
  0.07800468802452087,
  0.010796920396387577,
  -0.038614362478256226,
  0.062304068356752396,
  0.030657226219773293,
  0.04389667883515358,
  -0.0710562914609909,
  -0.08470754325389862,
  0.11602355539798737,
  -0.0034227673895657063,
  -0.14055928587913513,
  -0.06330283731222153,
  -0.07953769713640213,
  0.0422293096780777,
  0.04829925298690796,
  -0.025240132585167885,
  -0.037019334733486176,
  0.026938648894429207,
  0.03027982823550701,
  0.06488122045993805,
  -0.018492328003048897,
  0.009438646025955677,
  0.05026997998356819,
  -0.03257788345217705,
  0.0026165146846324205,
  0.01656511053442955,
  0.01298442017287016,
  -0.004341522231698036,
  -0.05264740809798241,
  0.017000066116452217,
  -0.057611189782619476,
  0.12844246625900269,
  -0.014657163992524147,
  -0.10439927875995636,
  0.04831797629594803,
  -0.050417058169841766,
  -0.031035467982292175,
  0.03847503289580345,
  0.03873811289668083,
  -0.06223950535058975,
  0.009430097416043282,
  -0.05579431354999542,
  0.0015599894104525447,
  0.026580242440104485,
  0.06032361462712288,
  0.046028830111026764,
  0.009603695012629032,
  -0.03780386596918106,
  -0.03525684401392937,
  0.07223577797412872,
  -0.049134038388729095,
  -0.06685091555118561,
  0.006819664966315031,
  0.03807501122355461,
  0.06929045170545578,
  -0.07248156517744064,
  0.05950311943888664,
  0.02405054122209549,
  0.04557296633720398,
  0.04201727360486984,
  0.03824622184038162,
  0.05344999581575394,
  0.015200075693428516,
  -0.017833983525633812,
  -0.0464707650244236,
  -0.03896694257855415,
  0.06826066225767136,
  0.03745341673493385,
  0.06230921298265457,
  -0.01153026893734932,
  -0.06260757893323898,
  -0.011328434571623802,
  -0.07369358092546463,
  0.0038594286888837814,
  -0.12906335294246674,
  -0.08732900768518448,
  -0.029877234250307083,
  -0.0015952668618410826,
  0.08672992140054703,
  0.04990480840206146,
  -0.004331076517701149,
  0.050734855234622955,
  0.00678974250331521,
  0.012558044865727425,
  0.028954068198800087,
  -0.08238016813993454,
  0.1106812134385109,
  0.07661300897598267,
  0.04035916551947594,
  -0.061536118388175964,
  -0.01133673544973135,
  0.06582064926624298,
  0.011643125675618649,
  0.06739075481891632,
  -0.0007225637673400342,
  -0.05023164302110672,
  0.007507229223847389,
  -0.01591922901570797,
  -0.003380734007805586,
  -0.12485174089670181,
  -0.005128004588186741,
  0.08373428136110306,
  -0.025401785969734192,
  -0.01453225128352642,
  -0.004037285689264536,
  -0.013147791847586632,
  -0.0025230462197214365,
  0.011819710023701191,
  0.026857992634177208,
  0.07595309615135193,
  -0.013758447021245956,
  -0.03765828162431717,
  -0.0017757575260475278,
  0.07939139008522034,
  -0.10511970520019531,
  0.0516485720872879,
  -0.0559239462018013,
  -0.018967527896165848,
  0.01132267713546753,
  0.04022666811943054,
  -0.03206152468919754,
  -0.03385167941451073,
  -0.06374196708202362,
  0.015383673831820488,
  -0.0027034676168113947,
  0.008786498568952084,
  -0.02979891560971737,
  0.029344303533434868,
  0.0259195938706398,
  -0.03645491227507591,
  -0.03201659768819809,
  0.05928802862763405,
  -0.005083140451461077,
  -0.06758149713277817,
  -0.06338982284069061,
  -0.04616856202483177,
  0.016084274277091026,
  -0.08258399367332458,
  -0.06053749471902847,
  -0.06281067430973053,
  0.06671079993247986,
  -0.035702746361494064,
  -0.0987129807472229,
  0.017520617693662643,
  -0.023508038371801376,
  0.0023852481972426176,
  -0.030888542532920837,
  -0.03182971850037575,
  0.0005220897728577256,
  -0.007784384302794933,
  -0.035484813153743744,
  0.02942412532866001,
  -0.11822611838579178,
  0.016346344724297523,
  0.04101868346333504,
  0.017998341470956802,
  -0.024882901459932327,
  0.011814577504992485,
  -0.02523663453757763,
  -0.014461171813309193,
  0.0026695646811276674,
  -0.026591481640934944,
  0.04696480184793472,
  0.017356105148792267,
  0.08575083315372467,
  0.03317975625395775,
  0.02563054859638214,
  -0.06866785138845444,
  0.0525980070233345,
  -0.019919680431485176,
  0.04520200565457344,
  0.06891730427742004,
  0.06443139165639877,
  -0.025722429156303406,
  -0.010601168498396873,
  0.009996145963668823,
  0.0008426711428910494,
  -0.02632175199687481,
  0.014418256469070911,
  -0.019795933738350868,
  0.037957582622766495,
  0.020498108118772507,
  -0.031130537390708923,
  -0.004656441975384951,
  -0.032614048570394516,
  -0.019660072401165962,
  -0.003047097707167268,
  -0.06128547340631485,
  0.007014594506472349,
  -0.015744345262646675,
  0.024057818576693535,
  0.10416420549154282,
  -0.03395352512598038,
  -0.003894191235303879,
  0.04358179122209549,
  -0.002302197739481926,
  0.008236701600253582,
  -0.019919198006391525,
  0.025180432945489883,
  -0.02472970448434353,
  -0.041876170784235,
  0.03933722525835037,
  -0.01002334151417017,
  -0.03544297069311142,
  0.03397255390882492,
  -0.06394760310649872,
  -0.03564699739217758,
  0.034397467970848083,
  0.015346660278737545,
  0.005498830229043961,
  -0.017188001424074173,
  0.0005322574288584292,
  -0.028285019099712372,
  0.025941884145140648,
  0.02184884436428547,
  -0.06310713291168213,
  -0.011601189151406288,
  -0.00248802755959332,
  0.028556285426020622,
  -0.027315953746438026,
  -0.029084056615829468,
  -0.04625261202454567,
  -0.07218006998300552,
  -0.01716471090912819,
  -0.02143835835158825,
  -0.038135282695293427,
  0.009882928803563118,
  -0.07741232961416245,
  -0.0004132831236347556,
  0.07568230479955673,
  -0.00392503384500742,
  0.014086850918829441,
  0.013663705438375473,
  -0.04447133466601372,
  -0.011226855218410492,
  0.049356844276189804,
  0.03432150557637215,
  0.03551444411277771,
  -0.01889396645128727,
  0.0695781335234642,
  -0.08516630530357361,
  0.01648702658712864,
  0.032725512981414795,
  0.027333851903676987,
  -0.06802406162023544,
  -0.010775540955364704,
  -0.019452163949608803,
  -0.009861613623797894,
  0.024377409368753433,
  0.06717295944690704,
  -0.028389353305101395,
  0.024000942707061768,
  -0.001146824099123478,
  -0.006131906062364578,
  0.01834014430642128,
  0.037041306495666504,
  -0.011209744028747082,
  -0.00667425524443388,
  -0.04322623834013939,
  0.0035682960879057646,
  -0.002492244355380535,
  0.029988368973135948,
  -0.039536505937576294,
  -0.04650339484214783,
  0.049646783620119095,
  0.022012025117874146,
  0.04712722823023796,
  -0.00825098529458046,
  -0.027240954339504242,
  0.0029633427038788795,
  0.031866397708654404,
  0.02830752171576023,
  0.07718609273433685,
  0.0018769045127555728,
  0.07720177620649338,
  0.010582742281258106,
  0.027591193094849586,
  -0.027750039473176003,
  0.03940780088305473,
  -0.014729493297636509,
  0.04999425634741783,
  -0.010871360078454018,
  0.015827126801013947,
  0.024533867835998535,
  0.01584707759320736,
  0.03466377034783363,
  0.020199844613671303,
  -0.01541263796389103,
  -0.024724623188376427,
  0.010771713219583035,
  -0.026557527482509613,
  -0.01592838577926159,
  0.07206154614686966,
  0.07509724050760269,
  0.02239036001265049,
  0.0903763547539711,
  0.009456191211938858,
  0.03347092866897583,
  -0.001398612977936864,
  -0.0031728276517242193,
  0.03302336856722832,
  0.04595807194709778,
  0.00017220928566530347,
  -0.02759573981165886,
  0.0280286967754364,
  0.026067078113555908,
  -0.015174242667853832,
  0.019683219492435455,
  -0.030612723901867867,
  -0.04759594053030014,
  -0.11190244555473328,
  0.0006615117308683693,
  -0.018112167716026306,
  0.04447424039244652,
  0.025237280875444412,
  -0.007231437135487795,
  0.0008493881905451417,
  -0.03968650847673416,
  -0.0075034890323877335,
  0.03346284478902817,
  -0.02652534283697605,
  0.0004023578658234328,
  0.04900750145316124,
  0.01516924612224102,
  -0.014242898672819138,
  0.008567947894334793,
  0.027018409222364426,
  -0.013286540284752846,
  0.006261135451495647,
  -0.04638440161943436,
  -0.006193435750901699,
  0.004842711146920919,
  -0.04259631410241127,
  0.02757023274898529,
  -0.02389133721590042,
  -0.032991137355566025,
  0.022533753886818886,
  -0.020684612914919853,
  -0.015647469088435173,
  -0.044352561235427856,
  0.02349143475294113,
  0.039923105388879776,
  -0.010191049426794052,
  0.014454808086156845,
  0.07441838085651398,
  -0.009846638888120651,
  -0.022844918072223663,
  0.006368040572851896,
  0.008673729375004768,
  -0.03429805487394333,
  0.0807909369468689,
  -0.03053131327033043,
  0.05955369770526886,
  0.001393584767356515,
  0.013453484512865543,
  0.04207511618733406,
  0.006869977340102196,
  0.04679818078875542,
  0.037994157522916794,
  -0.0533842034637928,
  -0.0664408951997757,
  0.030980544164776802,
  -0.0388212651014328,
  -0.03125234320759773,
  -0.028784699738025665,
  0.01490736659616232,
  -0.022087056189775467,
  0.06063820421695709,
  -0.03920454904437065,
  0.08585934340953827,
  -0.045505817979574203,
  0.06106540933251381,
  0.015775518491864204,
  -0.03102782927453518,
  0.02155403047800064,
  -0.04352692887187004,
  0.01599886082112789,
  -0.01724383980035782,
  0.027491921558976173,
  -0.0063434685580432415,
  0.007863562554121017,
  0.008960830979049206,
  0.059149693697690964,
  0.010547414422035217,
  -0.016453580930829048,
  0.013703539967536926,
  0.009772286750376225,
  -0.01368441991508007,
  -0.006464009173214436,
  0.001558450167067349,
  -0.022672515362501144,
  0.05050153657793999,
  0.023213136941194534,
  -0.07808300107717514,
  -0.03491427004337311,
  -0.015803050249814987,
  -0.02406138926744461,
  0.010028949938714504,
  -0.004260460380464792,
  -0.04543628171086311,
  0.026879234239459038,
  0.04103962704539299,
  0.021988358348608017,
  -0.040539853274822235,
  -0.01954105868935585,
  -0.01502469833940267
];
